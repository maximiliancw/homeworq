{% extends "_layout.html" %}
{% block title %}Log Details{% endblock %}

{% block page_menu %}
<div style="display: flex; justify-content: flex-end;">
    <a href="/logs" class="secondary">‚Üê Back to Logs</a>
</div>
{% endblock %}

{% block content %}
<article>
    <h2>Log Details</h2>
    
    <div style="display: flex; flex-wrap: wrap; gap: 1rem; margin-bottom: 2rem;">
        <div>
            <strong>Job:</strong>
            <a href="/jobs/{{ log.job.id }}">{{ log.job.name }}</a>
        </div>
        <div>
            <strong>Status:</strong>
            {{ log.status }}
        </div>
        <div>
            <strong>Started At:</strong>
            {{ log.started_at.strftime('%Y-%m-%d %H:%M:%S') }}
        </div>
        <div>
            <strong>Completed At:</strong>
            {{ log.completed_at.strftime('%Y-%m-%d %H:%M:%S') }}
        </div>
        <div>
            <strong>Duration:</strong>
            {{ log.duration }} seconds
        </div>
        <div>
            <strong>Retries:</strong>
            {{ log.retries }}
        </div>
    </div>

    <h3>Result</h3>
    <pre style="background: var(--code-background); padding: 1rem; border-radius: var(--border-radius); margin: 1rem 0;">{{ log.result }}</pre>

    {% if log.error %}
    <h3>Error Details</h3>
    <pre style="background: var(--mark-background); color: var(--mark-color); padding: 1rem; border-radius: var(--border-radius); margin: 1rem 0;">{{ log.error }}</pre>
    {% endif %}
</article>
{% endblock %}


